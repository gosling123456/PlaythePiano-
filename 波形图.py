import os
import random
import time

import cv2
import matplotlib.pyplot as plt
from tqdm import trange


def playsound(c):
    plt.subplot(14, 8)
    c = [int(i) for i in list(c)]
    b = c + [i + random.randint(0, i) for i in c] + [i + random.randint(0, i) for i in c] + [i + random.randint(0, i)
                                                                                             for i in c] + [
            i + random.randint(0, i) for i in c]
    a = ['low0', 'middle0', 'high0', 'low1', 'middle1', 'high1', 'low2', 'middle2', 'high2', 'low3', 'middle3', 'high3',
         'low4', 'middle4', 'high4']
    plt.bar(a, b, color='g')
    plt.savefig('./figures/'+str(time.time()) + '.jpg')


if __name__ == '__main__':
    task = [
        (1, 1, 0.5),
        (2, 1, 0.5),
        (3, 1, 1),
        (1, 1, 0.5),
        (6, 0, 1.5),
        (2, 1, 1),
        (7, 0, 1),
        (5, 0, 0.5),
        (3, 0, 1.5),
        (7, 0, 1),
        (6, 0, 1),
        (5, 0, 0.5),
        (1, 0, 1.5),
        (5, 0, 1),
        (3, 0, 3),
        (2, 0, 0.5),
        (3, 0, 0.5),
        (4, 0, 2),
        (1, 1, 1),
        (7, 0, 0.5),
        (1, 1, 0.5),
        (5, 0, 2),
        (4, 0, 1),
        (3, 0, 0.75),
        (4, 0, 0.25),
        (4, 0, 2),
        (1, 1, 1),
        (7, 0, 0.5),
        (6, 0, 0.5),
        (5, 0, 3),
        (1, 1, 0.5),
        (2, 1, 0.5),
        (3, 1, 1),
        (1, 1, 0.5),
        (6, 0, 1.5),
        (2, 1, 1),
        (7, 0, 1),
        (5, 0, 0.5),
        (3, 0, 1.5),
        (7, 0, 1),
        (6, 0, 1),
        (5, 0, 0.5),
        (1, 0, 1.5),
        (5, 0, 1),
        (3, 0, 3),
        (2, 0, 0.5),
        (3, 0, 0.5),
        (4, 0, 2),
        (5, 0, 1),
        (4, 0, 0.5),
        (5, 0, 0.5),
        (3, 0, 1),
        (5, 0, 1),
        (1, 1, 1),
        (3, 1, 1),
        (2, 1, 1.5),
        (2, 1, 0.5),
        (2, 1, 0.5),
        (1, 1, 1),
        (1, 1, 0.5),
        (1, 1, 4),
        (1, 1, 0.5),
        (2, 1, 0.5),
        (3, 1, 1),
        (1, 1, 0.5),
        (6, 0, 1.5),
        (2, 1, 1),
        (7, 0, 1),
        (5, 0, 0.5),
        (3, 0, 1.5),
        (7, 0, 1),
        (6, 0, 1),
        (5, 0, 0.5),
        (1, 0, 1.5),
        (5, 0, 1),
        (3, 0, 3),
        (2, 0, 0.5),
        (3, 0, 0.5),
        (4, 0, 2),
        (1, 1, 1),
        (7, 0, 0.5),
        (1, 1, 0.5),
        (5, 0, 2),
        (4, 0, 1),
        (3, 0, 0.75),
        (4, 0, 0.25),
        (4, 0, 2),
        (1, 1, 1),
        (7, 0, 0.5),
        (6, 0, 0.5),
        (5, 0, 3),
        (1, 1, 0.5),
        (2, 1, 0.5),
        (3, 1, 1),
        (1, 1, 0.5),
        (6, 0, 1.5),
        (2, 1, 1),
        (7, 0, 1),
        (5, 0, 0.5),
        (3, 0, 1.5),
        (7, 0, 1),
        (6, 0, 1),
        (5, 0, 0.5),
        (1, 0, 1.5),
        (5, 0, 1),
        (3, 0, 3),
        (2, 0, 0.5),
        (3, 0, 0.5),
        (4, 0, 2),
        (5, 0, 1),
        (4, 0, 0.5),
        (5, 0, 0.5),
        (3, 0, 1),
        (5, 0, 1),
        (1, 1, 1),
        (3, 1, 1),
        (2, 1, 0.5),
        (2, 1, 1.5),
        (2, 1, 0.75),
        (1, 1, 1.25),
        (1, 1, 4),
        (6, 0, 1.5),
        (7, 0, 0.5),
        (1, 1, 1),
        (7, 0, 0.5),
        (6, 0, 0.5),
        (5, 0, 1),
        (3, 1, 1),
        (3, 1, 2),
        (2, 1, 1.5),
        (3, 1, 0.5),
        (4, 1, 1),
        (3, 1, 0.5),
        (2, 1, 0.5),
        (1, 1, 1),
        (2, 1, 1),
        (5, 0, 2),
        (4, 0, 1.5),
        (5, 0, 0.5),
        (6, 0, 1),
        (5, 0, 0.5),
        (4, 0, 0.5),
        (3, 0, 1),
        (1, 1, 1),
        (1, 1, 1),
        (1, 1, 1),
        (7, 0, 2),
        (6, 0, 1),
        (7, 0, 1),
        (1, 1, 1),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25) ,
        (2, 1, 0.5),
        (1, 1, 1.5),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (2, 1, 0.5),
        (1, 1, 1.5),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25) ,
        (5, 1, 0.125),
        (6, 1, 0.375),
        (5, 1, 1.5),
        (5, 1, 0.5),
        (1, 2, 1.5),
        (7, 1, 0.5),
        (5, 1, 1.5),
        (3, 1, 0.5),
        (5, 1, 1),
        (2, 1, 0.5),
        (2, 1, 2),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (2, 1, 0.5),
        (1, 1, 1.5),
        (1, 1, 0.75),
        (1, 1, 0.25),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (4, 1, 0.75),
        (3, 1, 1.25)  ,
        (3, 1, 0.125),
        (2, 1, 0.875)  ,
        (7, 0, 1),
        (1, 1, 3),
        (1, 1, 0.75),
        (7, 0, 0.25),
        (6, 0, 1),
        (7, 0, 1),
        (1, 1, 1),
        (2, 1, 1),
        (1, 1, 1),
        (5, 0, 1),
        (3, 0, 1) ,
        (5, 0, 1),
        (6, 0, 0.75),
        (2, 1, 1.25),
        (7, 0, 0.75),
        (1, 1, 1.25),
        (1, 1, 3),
        (1, 1, 0.75),
        (7, 0, 0.25),
        (6, 0, 1),
        (7, 0, 1),
        (1, 1, 1),
        (2, 1, 1),
        (1, 1, 1),
        (5, 0, 1),
        (1, 1, 1) ,
        (2, 1, 1),
        (3, 1, 0.75),
        (4, 1, 1.25),
        (2, 1, 0.75),
        (1, 1, 1.25),
        (1, 1, 3),
        (3, 1, 1),
        (1, 1, 1),
        (5, 1, 1),
        (1, 1, 1),
        (1, 1, 1),
        (2, 1, 1),
        (5, 1, 1),
        (1, 1, 1),
        (1, 1, 1),
        (2, 1, 1),
        (5, 1, 1),
        (1, 1, 1),
        (1, 1, 1),
        (2, 1, 1),
        (3, 1, 1),
        (1, 1, 1),
        (2, 1, 2),
        (5, 1, 1),
        (1, 1, 1),
        (1, 1, 1),
        (2, 1, 1),
        (5, 1, 1),
        (1, 1, 1),
        (2, 1, 2),
        (1, 1, 2),
        (2, 1, 3),
        (1, 1, 0.5),
        (2, 1, 0.5),
        (3, 1, 1),
        (1, 1, 0.5),
        (6, 0, 1.5),
        (2, 1, 1),
        (7, 0, 1),
        (5, 0, 0.5),
        (3, 0, 1.5),
        (7, 0, 1),
        (6, 0, 1),
        (5, 0, 0.5),
        (1, 0, 1.5),
        (5, 0, 1),
        (3, 0, 3),
        (2, 0, 0.5),
        (3, 0, 0.5),
        (4, 0, 2),
        (1, 1, 1),
        (7, 0, 0.5),
        (1, 1, 0.5),
        (5, 0, 2),
        (4, 0, 1),
        (3, 0, 0.75),
        (4, 0, 0.25),
        (4, 0, 2),
        (1, 1, 1),
        (7, 0, 0.5),
        (6, 0, 0.5),
        (5, 0, 3),
        (1, 1, 0.5),
        (2, 1, 0.5),
        (3, 1, 1),
        (1, 1, 0.5),
        (6, 0, 1.5),
        (2, 1, 1),
        (7, 0, 1),
        (5, 0, 0.5),
        (3, 0, 1.5),
        (7, 0, 1),
        (6, 0, 1),
        (5, 0, 0.5),
        (1, 0, 1.5),
        (5, 0, 1),
        (3, 0, 3),
        (2, 0, 0.5),
        (3, 0, 0.5),
        (4, 0, 2),
        (5, 0, 1),
        (4, 0, 0.5),
        (5, 0, 0.5),
        (3, 0, 1),
        (5, 0, 1),
        (1, 1, 1),
        (3, 1, 1),
        (2, 1, 0.5),
        (2, 1, 1.5),
        (2, 1, 0.75),
        (1, 1, 1.25),
        (1, 1, 4),
        (6, 0, 1.5),
        (7, 0, 0.5),
        (1, 1, 1),
        (7, 0, 0.5),
        (6, 0, 0.5),
        (5, 0, 1),
        (3, 1, 1),
        (3, 1, 2),
        (2, 1, 1.5),
        (3, 1, 0.5),
        (4, 1, 1),
        (3, 1, 0.5),
        (2, 1, 0.5),
        (1, 1, 1),
        (2, 1, 1),
        (5, 0, 2),
        (4, 0, 1.5),
        (5, 0, 0.5),
        (6, 0, 1),
        (5, 0, 0.5),
        (4, 0, 0.5),
        (3, 0, 1),
        (1, 1, 1),
        (1, 1, 1),
        (1, 1, 1),
        (7, 0, 2),
        (6, 0, 1),
        (7, 0, 1),
        (1, 1, 1),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (2, 1, 0.5),
        (1, 1, 1.5),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (2, 1, 0.5),
        (1, 1, 1.5),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (5, 1, 0.125),
        (6, 1, 0.375),
        (5, 1, 1.5),
        (5, 1, 0.5),
        (1, 2, 1.5),
        (7, 1, 0.5),
        (5, 1, 1.5),
        (3, 1, 0.5),
        (5, 1, 1),
        (2, 1, 0.5),
        (2, 1, 2),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (2, 1, 0.5),
        (1, 1, 1.5),
        (1, 1, 0.75),
        (1, 1, 0.25),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (4, 1, 0.75),
        (3, 1, 1.25),
        (3, 1, 0.125),
        (2, 1, 0.875),
        (7, 0, 1),
        (1, 1, 3),
        (1, 1, 0.75),
        (7, 0, 0.25),
        (6, 0, 1),
        (7, 0, 1),
        (1, 1, 1),
        (2, 1, 1),
        (1, 1, 1),
        (5, 0, 1),
        (3, 0, 1),
        (5, 0, 1),
        (6, 0, 0.75),
        (2, 1, 1.25),
        (7, 0, 0.75),
        (1, 1, 1.25),
        (1, 1, 3),
        (1, 1, 0.75),
        (7, 0, 0.25),
        (6, 0, 1),
        (7, 0, 1),
        (1, 1, 1),
        (2, 1, 1),
        (1, 1, 1),
        (5, 0, 1),
        (1, 1, 1),
        (2, 1, 1),
        (3, 1, 0.75),
        (4, 1, 1.25),
        (2, 1, 0.75),
        (1, 1, 1.25),
        (1, 1, 3),
        (1, 1, 2),
        (1, 1, 1.75),
        (4, 0, 0.25),
        (1, 1, 2),
        (7, 0, 2),
        (1, 1, 2),
        (5, 1, 2),
        (6, 1, 2),
        (5, 1, 2),
        (2, 1, 2),
        (4, 1, 2),
        (3, 1, 4),
        (1, 1, 2),
        (3, 1, 2),
        (4, 1, 2),
        (3, 1, 2),
        (2, 1, 2),
        (7, 0, 2),
        (1, 1, 4),
        (1, 1, 2),
        (5, 1, 2),
        (6, 1, 2),
        (5, 1, 2),
        (2, 1, 2),
        (4, 1, 1),
        (3, 1, 1),
        (3, 1, 4),
        (1, 1, 2),
        (3, 1, 2),
        (4, 1, 2),
        (3, 1, 2),
        (2, 1, 2),
        (7, 0, 2),
        (1, 1, 2),
        (6, 0, 1),
        (7, 0, 0.5),
        (1, 1, 2),
        (5, 1, 2),
        (6, 1, 2),
        (5, 1, 1),
        (2, 1, 1),
        (2, 1, 2),
        (4, 1, 1),
        (3, 1, 1),
        (3, 1, 4),
        (1, 1, 2),
        (3, 1, 2),
        (4, 1, 2),
        (3, 1, 2),
        (2, 1, 2),
        (7, 0, 2),
        (1, 1, 3),
        (6, 0, 0.5),
        (7, 0, 0.5),
        (1, 1, 2),
        (5, 1, 2),
        (6, 1, 2),
        (5, 1, 2),
        (7, 1, 2),
        (7, 1, 1),
        (1, 2, 1),
        (1, 2, 4),
        (1, 2, 2),
        (5, 1, 2),
        (4, 1, 2),
        (3, 1, 1),
        (2, 1, 1),
        (2, 1, 2),
        (2, 1, 2),
        (6, 0, 2),
        (1, 1, 1),
        (3, 2, 1),
        (4, 2, 4),
        (4, 2, 1),
        (5, 2, 1),
        (5, 2, 1),
        (6, 1, 1),
        (4, 2, 4),
        (4, 1, 1),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (2, 1, 0.5),
        (1, 1, 1.5),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (2, 1, 0.5),
        (1, 1, 1.5),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (5, 1, 0.125),
        (6, 1, 0.375),
        (5, 1, 1.5),
        (5, 1, 0.5),
        (1, 2, 1.5),
        (7, 1, 0.5),
        (5, 1, 1.5),
        (3, 1, 0.5),
        (5, 1, 1),
        (2, 1, 0.5),
        (2, 1, 2),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (2, 1, 0.75),
        (1, 1, 0.25),
        (6, 0, 0.5),
        (1, 1, 1.5),
        (3, 1, 0.75),
        (5, 1, 1.25),
        (2, 1, 0.5),
        (1, 1, 1.5),
        (1, 1, 0.75),
        (1, 1, 0.25),
        (2, 1, 0.75),
        (3, 1, 0.25),
        (6, 1, 0.75),
        (3, 1, 1.25),
        (3, 1, 0.125),
        (2, 1, 0.875),
        (7, 0, 1),
        (1, 1, 3),
        (1, 1, 0.75),
        (7, 0, 0.25),
        (6, 0, 1),
        (7, 0, 1),
        (1, 1, 1),
        (2, 1, 1),
        (1, 1, 1),
        (5, 0, 1),
        (3, 0, 1),
        (5, 0, 1),
        (6, 0, 0.75),
        (2, 1, 1.25),
        (7, 0, 0.75),
        (1, 1, 1.25),
        (1, 1, 3),
        (1, 1, 0.75),
        (7, 0, 0.25),
        (6, 0, 1),
        (7, 0, 1),
        (1, 1, 1),
        (2, 1, 1),
        (1, 1, 1),
        (5, 0, 1),
        (4, 0, 1),
        (3, 1, 1),
        (4, 1, 0.75),
        (1, 1, 1.25),
        (1, 1, 0.75),
        (5, 1, 1.25),
        (3, 1, 3),
        (3, 1, 0.75),
        (2, 1, 0.25),
        (1, 1, 1),
        (2, 1, 1),
        (3, 1, 1),
        (4, 1, 1),
        (3, 1, 1),
        (1, 1, 1),
        (5, 0, 1),
        (3, 0, 1),
        (2, 1, 0.75),
        (3, 1, 1.25),
        (2, 1, 0.75),
        (1, 1, 1.25),
        (1, 1, 2),
        (4, -2, 0.25),
        (1, -1, 0.25),
        (4, -1, 0.25),
        (5, -1, 0.25),
        (1, 0, 0.25),
        (2, 0, 0.25),
        (5, 0, 0.25),
        (1, 1, 0.25),
        (2, 1, 0.25),
        (5, 1, 0.25),
        (1, 2, 0.25),
        (2, 2, 0.25),
        (5, 2, 0.25),
        (1, 3, 0.75),
        (1, 1, 0.5),
        (5, 1, 1.5),
        (1, 1, 0.5),
        (5, 1, 1.5),
        (1, 1, 0.5),
        (5, 1, 1.5),
        (1, 1, 0.5),
        (5, 1, 1.5),
        (1, 1, 0.5),
        (5, 1, 1.5),
        (1, 1, 0.5),
        (5, 1, 3.5)
    ]
    # for i in trange(len(task), desc='正在处理中，请稍候......'):
    #     j = task[i]
    #     playsound(j)
    # video = cv2.VideoWriter("Video.avi", cv2.VideoWriter_fourcc(*'MJPG'), 10,(640,480))
    for item in os.listdir('figures'):
        if item.endswith('.jpg'):
            print(item)
            img = cv2.imread('figures/'+item)
            cv2.imshow('1',img)
            cv2.waitKey(1)
    #         video.write(img)
    # video.release()
    cv2.destroyAllWindows()
    print('视频合成生成完成啦')